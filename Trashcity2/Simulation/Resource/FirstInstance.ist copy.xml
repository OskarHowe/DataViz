<?xml version="1.0" encoding="UTF-8"?>
<!--
  Language: XML
  $Author:$
  $Date:$
  $Revision$
  $Copyright: [2010-2017] Cosmo Tech, All Rights Reserved $
-->
<csm:Model xmlns:doc="http://www.cosmotech.com/csm_doc/8.8" xmlns:dbk="http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" xmlns:csm="http://www.cosmotech.com/csm/8.8">
  <csm:Scheduler>
    <csm:RunTask>
      <csm:Entity>1</csm:Entity>
    </csm:RunTask>
  </csm:Scheduler>
  <csm:City id="1" name="Lyon">
    <csm:Compound>
      <csm:SubEntities>
        <csm:Street id="2" name="Avenue">
          <csm:Compound>
            <csm:SubEntities>
              <csm:Inhabitant id="4" name="Paul"/>
              <csm:Inhabitant id="5" name="Tom"/>
              <csm:Inhabitant id="6" name="Ame"/>
              <csm:Truck id="7" name="Truck1"/>
              <csm:Truck id="8" name="Truck2"/>
            </csm:SubEntities>
            <csm:Environment>
              <csm:Vertex>4</csm:Vertex>
              <csm:Vertex>5</csm:Vertex>
              <csm:Vertex>6</csm:Vertex>
              <csm:Vertex>7</csm:Vertex>
              <csm:Vertex>8</csm:Vertex>
              <csm:Edge>
                <csm:Left>4</csm:Left>
                <csm:Right>7</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>4</csm:Left>
                <csm:Right>8</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>6</csm:Left>
                <csm:Right>7</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>6</csm:Left>
                <csm:Right>8</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>5</csm:Left>
                <csm:Right>8</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>5</csm:Left>
                <csm:Right>7</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>5</csm:Left>
                <csm:Right>6</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>6</csm:Left>
                <csm:Right>4</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>4</csm:Left>
                <csm:Right>5</csm:Right>
              </csm:Edge>
            </csm:Environment>
          </csm:Compound>
          <csm:Scheduler/>
        </csm:Street>
        <csm:Street id="3" name="Rue">
          <csm:Compound>
            <csm:SubEntities>
              <csm:Inhabitant id="13" name="Oskar"/>
              <csm:Inhabitant id="14" name="Romy"/>
              <csm:Inhabitant id="15" name="John"/>
              <csm:Inhabitant id="16" name="Thea"/>
              <csm:Truck id="17" name="Truck3"/>
              <csm:Truck id="18" name="Truck4"/>
              <csm:Truck id="19" name="Truck"/>
            </csm:SubEntities>
            <csm:Environment>
              <csm:Vertex>13</csm:Vertex>
              <csm:Vertex>14</csm:Vertex>
              <csm:Vertex>15</csm:Vertex>
              <csm:Vertex>16</csm:Vertex>
              <csm:Vertex>17</csm:Vertex>
              <csm:Vertex>18</csm:Vertex>
              <csm:Vertex>19</csm:Vertex>
              <csm:Edge>
                <csm:Left>13</csm:Left>
                <csm:Right>17</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>13</csm:Left>
                <csm:Right>18</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>15</csm:Left>
                <csm:Right>17</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>15</csm:Left>
                <csm:Right>18</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>14</csm:Left>
                <csm:Right>17</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>14</csm:Left>
                <csm:Right>18</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>16</csm:Left>
                <csm:Right>17</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>16</csm:Left>
                <csm:Right>18</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>15</csm:Left>
                <csm:Right>13</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>14</csm:Left>
                <csm:Right>13</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>14</csm:Left>
                <csm:Right>16</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>16</csm:Left>
                <csm:Right>15</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>15</csm:Left>
                <csm:Right>14</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>16</csm:Left>
                <csm:Right>13</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>14</csm:Left>
                <csm:Right>19</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>13</csm:Left>
                <csm:Right>19</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>16</csm:Left>
                <csm:Right>19</csm:Right>
              </csm:Edge>
              <csm:Edge>
                <csm:Left>15</csm:Left>
                <csm:Right>19</csm:Right>
              </csm:Edge>
            </csm:Environment>
          </csm:Compound>
          <csm:Scheduler/>
        </csm:Street>
      </csm:SubEntities>
      <csm:Environment/>
    </csm:Compound>
    <csm:Scheduler>
      <csm:RepeatTaskBlock repetitions="7">




        <csm:ForEachTask recursiveLevel="2" concurrencyLevel="1">
          <SubEntityType>Inhabitant</SubEntityType>
          <Process>ProduceTrash</Process>
        </csm:ForEachTask>
        <csm:ForEachTask recursiveLevel="2" concurrencyLevel="1">
          <SubEntityType>Inhabitant</SubEntityType>
          <Process>UpdateSatisfaction</Process>
        </csm:ForEachTask>
        <csm:ForEachTask recursiveLevel="1" concurrencyLevel="1">
          <SubEntityType>Street</SubEntityType>
          <Process>MesoPerRct</Process>
        </csm:ForEachTask>
      </csm:RepeatTaskBlock>
      <csm:ForEachTask recursiveLevel="1" concurrencyLevel="1">
        <SubEntityType>Street</SubEntityType>
        <MesoFunction>OverviewStreet</MesoFunction>
      </csm:ForEachTask>
      <csm:ForEachTask recursiveLevel="1" concurrencyLevel="1">
        <SubEntityType>Street</SubEntityType>
        <Process>CalcTrucksNeededAndActivate</Process>
      </csm:ForEachTask>
      <csm:ForEachTask recursiveLevel="1" concurrencyLevel="1">
        <SubEntityType>Street</SubEntityType>
        <Process>MesoPickupTrash</Process>
      </csm:ForEachTask>
      <csm:ForEachTask recursiveLevel="2" concurrencyLevel="1">
        <SubEntityType>Truck</SubEntityType>
        <Process>EmptyLoad</Process>
      </csm:ForEachTask>
      <csm:ForEachTask recursiveLevel="2" concurrencyLevel="1">
        <SubEntityType>Truck</SubEntityType>
        <Process>CalcCost</Process>
      </csm:ForEachTask>
      <csm:ForEachTask recursiveLevel="1" concurrencyLevel="1">
        <SubEntityType>Street</SubEntityType>
        <Process>CalcTruckCostTotal</Process>
      </csm:ForEachTask>
      <csm:ForEachTask recursiveLevel="1" concurrencyLevel="1">
        <SubEntityType>Street</SubEntityType>
        <Process>CalManif</Process>
      </csm:ForEachTask>
    </csm:Scheduler>
  </csm:City>
</csm:Model>
